<HTML><HEAD><TITLE>Freidefinierbare Mens</TITLE></HEAD>
<BODY><A NAME="top">
<BR><FONT COLOR=teal>Freidefinierbare Mens</FONT>
<HR noshade color="silver">
<A HREF="main.htm">Zurck zur šbersicht</A>
<HR noshade color="silver"><PRE><A HREF="#allgemein"> Allgemeines</A>
<A HREF="#bearbeiten"> Mens bearbeiten</A> (allgemeines)
<A HREF="#l”schen"> Meneintrag l”schen</A> 
<A HREF="#editieren"> Meneintrag „ndern</A> 
<A HREF="#neu"> Neuen Meneintrag hinzufgen</A>
<A HREF="#meneditor"> Der Men-Editor</A>
<A HREF="#line"> Horizontale Trennlinie</A>
<A HREF="#untermen"> Untermens</A>
<A HREF="#farben"> Farben in Mens</A>
<A HREF="#kommentare"> Kommentare in Mens</A>
<A HREF="#rckg„ngig"> nderungen rckg„ngig machen</A><HR 

noshade color="silver"><A NAME="allgemein"><A HREF="#top"> </A><FONT COLOR="maroon">Allgemeines</FONT>

Im DOS-Comander finden Sie unter Taste F2 das Benutzer-Men, das von Ihnen 
nach Ihren Bedrfnissen gestaltet werden kann. Sie k”nnen bereits darin
enthaltene Befehle l”schen, „ndern und neue hinzufgen. Lesen Sie hierzu
mehr unter <A HREF="#bearbeiten"> Mens bearbeiten</A>
 
Im Benutzer-Men k”nnen Sie h„ufig ben”tigte Befehle unterbringen, z.B. die 
Startbefehle fr Ihr Textverarbeitungsprogramm, fr Spiele, Windows, 
Batchdateien, Dienstprogramme oder auch normale DOS-Befehle (format, 
diskcopy usw.).

Neben dem Benutzer-Men existieren noch weitere Mens, die Sie mehr oder
weniger frei gestalten k”nnen:

<A HREF="chdir.htm">CHDIR-Men</A>
<A HREF="extras.htm">Extras-Men</A> (enth„lt u.a. die <A HREF="dosbox.htm">DOSbox</A>)
<A HREF="hilfe.htm">Hilfe-Men</A>
 
Das Benutzer- und das CHDIR-Men befinden sich in der Datei DC.MNU im
NEWDOS-Verzeichnis, das Extras- und das Hilfemen in der Datei INTERN.MNU.
Sie k”nnen solche MNU-Dateien auch in anderen Verzeichnissen anlegen. Diese
werden nur dann aktiv, wenn Sie das betreffende Verzeichnis im Comander
im aktiven Fenster ge”ffnet haben, ansonsten sind immer die MNU-Dateien
im NEWDOS-Verzeichnis aktiv.<HR 

noshade color="silver"><A NAME="bearbeiten"><A HREF="#top"> </A><FONT COLOR="maroon">Mens bearbeiten</FONT>
 
Die MNU-Dateien sind reine ASCII-Textdateien und k”nnen auch mit einem
beliebigen Texteditor bearbeitet werden. Ab Version 4.0 des DOS-Comanders
steht hierzu jedoch ein komfortabler <A HREF="#meneditor"> Men-Editor</A> zur Verfgung. 

Wenn Sie einen Meneintrag l”schen, ver„ndern oder neu hinzufgen m”chten,
”ffnen Sie zun„chst im Comander das gewnschte Men bzw. Untermen.<HR 

noshade color="silver"><A NAME="l”schen"><A HREF="#top"> </A><FONT COLOR="maroon">Men-Eintrag l”schen</FONT>
 
Klicken Sie mit der rechten (Linksh„nder-Maus: linken) Maustaste auf den
zu l”schenden Meneintrag oder bewegen Sie den Lichtbalken dorthin und
drcken Sie die Taste F4.

Es ”ffnet sich dann ein Abfragefenster. Klicken Sie dort auf die Schaltfl„che
"L”schen" oder bet„tigen Sie die Taste L.

Wenn der gel”schte Meneintrag auf ein Unter-Men verwiesen hat, fragt Sie
der <A HREF="#meneditor"> Men-Editor</A>, ob Sie auch dieses Unter-Men l”schen wollen. Wenn Sie 
sicher sind, daá kein anderer Meneintrag mehr auf dieses Untermen verweist,
dann sollten Sie es l”schen lassen, um das Aufbl„hen der Mendatei
durch "Menleichen" zu vermeiden.<HR 

noshade color="silver"><A NAME="editieren"><A HREF="#top"> </A><FONT COLOR="maroon">Men-Eintrag „ndern</FONT>
 
Klicken Sie mit der rechten (Linksh„nder-Maus: linken) Maustaste auf den
zu „ndernden Meneintrag oder bewegen Sie den Lichtbalken dorthin und
drcken Sie die Taste F4.

Es ”ffnet sich dann ein Abfragefenster. Klicken Sie dort auf die Schaltfl„che
"ndern" oder bet„tigen Sie die Taste N. Der <A HREF="#meneditor"> Men-Editor</A> wird gestartet.<HR 

noshade color="silver"><A NAME="neu"><A HREF="#top"> </A><FONT COLOR="maroon">Neuen Men-Eintrag hinzufgen</FONT>
 
Klicken Sie mit der rechten (Linksh„nder-Maus: linken) Maustaste auf den
Meneintrag, <FONT COLOR="red">unter</FONT> dem sie einen neuen einfgen wollen oder bewegen Sie den
Lichtbalken dorthin und drcken Sie die Taste F4.

Es ”ffnet sich dann ein Abfragefenster. Klicken Sie dort auf die Schaltfl„che
"Einfgen" oder bet„tigen Sie die Taste E. Der <A HREF="#meneditor"> Men-Editor</A> wird gestartet.

Falls das Abfragefenster keinen "Einfgen"-Button anzeigt, dann ist das
Men mit der maximal m”glichen Zahl von 16 Eintr„gen bereits voll belegt.
In diesem Falle sollten Sie einen der vorhandenen Meneintr„ge in einen
Verweis auf ein Untermen umwandeln und dort dann die weiteren Befehle 
einbauen.<HR 

noshade color="silver"><A NAME="meneditor"><A HREF="#top"> </A><FONT COLOR="maroon">Der Men-Editor</FONT>
 
Der Men-Editor befindet sich im Programm MENUEDIT.EXE im NEWDOS-Verzeichnis.
Der Men-Editor kann nicht direkt gestartet werden, sondern nur ber die eben
beschriebenen Methoden.

Beim ndern eines Men-Eintrages zeigt der Men-Editor den Inhalt dieses
Meneintrages an - beim Hinzufgen eines neuen Meneintrages wird eine
leere Editier-Maske gezeigt. Groá- und Kleinschreibung braucht nicht beachtet
zu werden, Leerzeilen und fhrende Leerzeichen zur besseren Gliederung
drfen eingesetzt werden.

Tragen Sie zun„chst im Feld <FONT COLOR="blue">Tastenkrzel</FONT> den Buchstaben der Taste ein, durch
die sp„ter der Befehl ausgefhrt werden soll. 

Im Feld <FONT COLOR="blue">Men-Eintrag</FONT> geben Sie den Text ein, der sp„ter im Men angezeigt 
werden soll.

Im Feld <FONT COLOR="blue">Befehle</FONT> k”nnen Sie dann einen oder mehrere DOS-Befehle eintragen, die
beim Bet„tigen des Tastenkrzels ausgefhrt werden sollen. Das Format dieser
Befehlsliste ist identisch mit dem von Batch-Dateien - genaugenommen k”nnen
Sie hier auch bereits existierende Batch-Dateien komplett und unver„ndert
bernehmen und das Original anschlieáend l”schen. (Andererseits k”nnen Sie
aber auch einen Verweis auf eine solche Batch-Datei in das Befehls-Feld
eintragen.) Eine externe Batch-Datei k”nnen Sie ber das <A HREF="../newdos/clipbrd.htm">NEWDOS-Clipboard</A> 
in den Men-Editor transportieren. ™ffnen Sie die Batchdatei im NewDOS-Editor
ED (im Comander mit Taste F4), markieren Sie den gesamten Inhalt mit der
Maus bzw. den Tasten F7 und F8 und drcken Sie dann F5 zum Kopieren.
Schlieáen Sie nun den Editor, ”ffnen Sie den Men-Editor und fgen Sie den
Inhalt der Batchdatei mit Taste F4 (oder ALT+V) in das Feld "Befehle" ein.

W„hrend Sie das Feld "Befehle" editieren, wird oben rechts ein Schaltfeld
<FONT COLOR="blue">Variable einfgen</FONT> angezeigt. Hier k”nnen Sie die fr den Comander definierten
Variablen per Mausklick in den Befehlstext einfgen lassen. Zu jeder der 
Variablen wird ein kurzer Erkl„rungstext angezeigt, die ausfhrlichen
Beschreibungen finden Sie <A HREF="variab.htm">hier</A>.

Haben Sie alle Eintragungen erledigt, speichern Sie das Ergebnis mit Taste
F2 in der Men-Datei. Wenn Sie den Men-Editor mit Esc abbrechen, wird keine
nderung vorgenommen.<HR 

noshade color="silver"><A NAME="line"><A HREF="#top"> </A><FONT COLOR="maroon">Horizontale Trennlinie</FONT>
 
Fr die bersichtliche Unterteilung eines Men-Fensters k”nnen Sie an 
beliebiger Stelle eine waagerechte Linie einfgen. Verfahren Sie zun„chst so,
wie unter <A HREF="#neu"> Neuen Meneintrag einfgen</A> beschrieben.

Tragen Sie dann im Men-Editor im Feld <FONT COLOR="blue">Meneintrag</FONT> die Zeile <FONT COLOR="red">[LINE]</FONT> ein.
Die anderen Felder k”nnen Sie leer lassen. Speichern Sie die Eintragung mit
Taste F2. Beachten Sie jedoch, daá jede Trennlinie einen der 16 maximal 
m”glichen Eintr„ge belegt.

Wenn Sie eine Trennlinie l”schen wollen, gehen Sie wie unter <A HREF="#l”schen"> Meneintrag
l”schen</A> vor.<HR 

noshade color="silver"><A NAME="untermen"><A HREF="#top"> </A><FONT COLOR="maroon">Untermen einfgen</FONT>
 
Verfahren Sie zun„chst so, wie unter <A HREF="#neu"> Neuen Meneintrag einfgen</A>
beschrieben. Fllen Sie die Felder <FONT COLOR="blue">Tastenkrzel</FONT> und <FONT COLOR="blue">Meneintrag</FONT> wie gewohnt
aus. Im Feld <FONT COLOR="blue">Befehl(e)</FONT> tragen Sie zun„chst die Anweisung <FONT COLOR="red">GOTO</FONT> (=Gehe zu) ein.
Anschlieáend geben Sie den Namen des Untermens ein, auf das Sie verweisen
wollen. Diesen Namen k”nnen Sie frei w„hlen, er wird sp„ter im Kopf des
Mens angezeigt und sollte deshalb nicht berm„áig lang sein.

Soll auf ein bereits existierendes Untermen verwiesen werden, tragen Sie
dessen Namen ein. Beispiel:
 
<FONT COLOR="red">GOTO Dosbox</FONT>

Dieser Befehl bewirkt, daá das <A HREF="dosbox.htm">DOSbox-Men</A> ge”ffnet wird. Voraussetzung 
hierzu ist jedoch, daá sich das Men in der selben Men-Datei befindet, wie
der Men-Eintrag, der dieses Men aufruft. Befindet sich der verweisende
Meneintrag in der Datei DC.MNU (z.B. im Benutzermen), dann wrde das
Beispiel nicht funktionieren, da sich das DOSbox-Men in der Datei INTERN.MNU
befindet. Um das DOSbox-Men korrekt ansteuern zu k”nnen, mssen Sie 
zus„tzlich den Pfad und den Namen der Datei angeben, in der sich die DOSbox 
befindet:

<FONT COLOR="red">GOTO c:\newdos\intern.mnu Dosbox</FONT>
 
Anstelle des NEWDOS-Pfades k”nnen Sie hier auch die <A HREF="variab.htm#c">Variable [C]</A> einsetzen:

<FONT COLOR="red">GOTO [C]intern.mnu Dosbox</FONT>

Auf diese Weise k”nnen Sie auf Mens in beliebigen externen Dateien 
verweisen und von dort auch wieder zurck.

Ein Verweis auf ein nicht existierendes Untermen l”st jedoch keinen Fehler
aus - im Gegenteil: Auf diese Weise erzeugen Sie automatisch ein neues
leeres Untermen, welches Sie dann mit Befehlen fllen k”nnen. Der 
Men-Editor erkennt von selbst, ob das Untermen, zu dem verwiesen wird,
schon existiert oder nicht und legt ggf. ein neues an.

Untermens k”nnen in beliebiger Tiefe ineinander verschachtelt und 
miteinander querverbunden werden.<HR 

noshade color="silver"><A NAME="farben"><A HREF="#top"> </A><FONT COLOR="maroon">Farben in Mens</FONT>

Der Comander gibt fr die 4 verschiedenen Mens je eine bestimmte 
Hintergrundfarbe vor. Beispielsweise ist das Hilfemen blau, das Benutzermen
cyan (trkis). Diese Farben k”nnen Sie jedoch durch andere ersetzen, auch
k”nnen Untermens eine andere Farbe haben als das Hauptmen.

Fr das Setzen von Farben mssen Sie die Men-Datei (DC.MNU oder INTERN.MNU)
in einem Texteditor ”ffnen (Taste F4). Scrollen Sie zum betreffenden Men-
Namen und fgen Sie eine Zeile tiefer eine der folgenden Farbanweisungen ein:
 
<FONT COLOR="blue">[Farbe cyan]
[Farbe magenta]
[Farbe blau]
[Farbe grau]
[Farbe braun]
[Farbe grn]</FONT>     

Wenn z.B. das Benutzer-Men in Zukunft grau sein soll, sieht die fertige
Passage so aus:

<FONT COLOR="blue">[BENUTZER]
<FONT COLOR="red">[FARBE grau]</FONT>
s; Scandisk starten   ; scandisk /autofix /surface
...
usw.</FONT>     
 
Tip: Wenn ein Untermen eine andere Farbe haben soll als das Hauptmen, dann
sollten Sie fr das Hauptmen ebenfalls die Farbe festlegen, auch wenn es
die selbe ist, die vom Comander schon vorgegeben wird.<HR 

noshade color="silver"><A NAME="kommentare"><A HREF="#top"> </A><FONT COLOR="maroon">Kommentare in Mens</FONT>
 
Wenn Sie im Befehls-Feld des Men-Editors mehrere Befehlszeilen eingeben,
k”nnen Kommentare das sp„tere Verstehen dieses Programmes erleichtern. Diese
M”glichkeit kennen Sie vielleicht schon aus der Batch-Programmierung (<A HREF="help:rem">REM</A>). 

Anstelle von REM k”nnen Sie in Mens auch ein fhrendes Semikolon verwenden:

<FONT COLOR="red">; Dies ist ein Kommentar</FONT>

Auf diese Weise k”nnen Sie auch echte Befehle vorbergehend deaktivieren.
Dies bietet sich an, wenn eine Befehlssequenz einen Fehler enth„lt und
beim Testen nicht ausgefhrt werden soll.

Der Vorteil des Semikolons gegenber dem REM-Befehl ist, daá der Comander, 
wenn er die Befehle sp„ter an DOS zur Ausfhrung bergibt, die Kommentar-
zeilen von vornherein ignoriert. Der Hintergrund ist, daá der Comander die
Befehle in eine tempor„re Batch-Datei schreibt und diese dann von DOS 
ausfhren l„át. REM-Anweisungen werden von DOS beim Ausfhren der Batchdatei
zwar bergangen, mssen zun„chst aber eingelesen und interpretiert werden,
was bei vielen REM-Befehlen durchaus zu einer Herabsetzung der Ausfhrungs-
geschwindigkeit fhren kann.<HR 

noshade color="silver"><A NAME="rckg„ngig"><A HREF="#top"> </A><FONT COLOR="maroon">nderungen rckg„ngig machen</FONT>
 
Wenn Sie einmal versehentlich den falschen Meneintrag gel”scht oder 
ver„ndert haben, sollten Sie baldigst einen Blick in das <A HREF="../newdos/temp.htm">TEMP-Verzeichnis</A> 
von DOS/NEWDOS werfen. Dort befindet sich dann eine Datei namens MENUE.TMP,
die die ge„nderte Men-Datei im Zustand vor der nderung enth„lt.

Um also eine fehlerhafte nderung einer Mendatei rckg„ngig zu machen,
benennen Sie die Datei MENUE.TMP um, z.B. in DC.MNU, und kopieren sie in das
NEWDOS-Verzeichnis.

Bei der n„chsten nderung an einem Men wird die Datei MENUE.TMP neu
angelegt, mit dem Rckg„ngigmachen von Fehlern sollten Sie also nicht
allzulange warten.</PRE>
<HR noshade color="silver">
<A HREF="#top"> Zurck zum Anfang</A>
</BODY></HTML>
